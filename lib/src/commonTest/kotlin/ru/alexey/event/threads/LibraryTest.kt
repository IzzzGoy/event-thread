/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package ru.alexey.event.threads

import kotlin.test.*

data object TestEvent : Event

data object WrongEvent : Event

class LibraryTest {
    
    lateinit var eventBus: EventBus
    
    @BeforeTest
    fun prepare() {
        eventBus = EventBus()
    }
    
    @Test
    fun test() {
        
        eventsBuilder(eventBus) {
            eventThread<TestEvent> {
                assertSame(TestEvent, it)
            }
        }
        
        eventBus + TestEvent
        
    }
    
    @Test
    fun test1() {
        eventsBuilder(eventBus) {
            eventThread<TestEvent> {
                println("!")
            }
            eventThread<WrongEvent> {
                assertIs<WrongEvent>(it)
            }
        }

        eventBus + WrongEvent
    }
}
